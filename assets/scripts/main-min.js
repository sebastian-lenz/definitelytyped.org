(function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?void(this._wrapped=a):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.6.0";var y=x.each=x.forEach=function(a,b,d){if(null==a)return a;if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g=x.keys(a),e=0,f=g.length;f>e;e++)if(b.call(d,a[g[e]],g[e],a)===c)return;return a};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):A(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2),d=x.isFunction(b);return x.map(a,function(a){return(d?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,x.property(b))},x.where=function(a,b){return x.filter(a,x.matches(b))},x.findWhere=function(a,b){return x.find(a,x.matches(b))},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);var d=-1/0,e=-1/0;return y(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;h>e&&(d=a,e=h)}),d},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);var d=1/0,e=1/0;return y(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;e>h&&(d=a,e=h)}),d},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d},x.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=x.values(a)),a[x.random(a.length-1)]):x.shuffle(a).slice(0,Math.max(0,b))};var B=function(a){return null==a?x.identity:x.isFunction(a)?a:x.property(a)};x.sortBy=function(a,b,c){return b=B(b),x.pluck(x.map(a,function(a,d,e){return{value:a,index:d,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var C=function(a){return function(b,c,d){var e={};return c=B(c),y(b,function(f,g){var h=c.call(d,f,g,b);a(e,h,f)}),e}};x.groupBy=C(function(a,b,c){x.has(a,b)?a[b].push(c):a[b]=[c]}),x.indexBy=C(function(a,b,c){a[b]=c}),x.countBy=C(function(a,b){x.has(a,b)?a[b]++:a[b]=1}),x.sortedIndex=function(a,b,c,d){c=B(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return b&&x.every(a,x.isArray)?i.apply(c,a):(y(a,function(a){x.isArray(a)||x.isArguments(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c)};x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.partition=function(a,b){var c=[],d=[];return y(a,function(a){(b(a)?c:d).push(a)}),[c,d]},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.contains(b,a)})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=x.max(x.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=x.pluck(arguments,""+c);return b},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var E=function(){};x.bind=function(a,b){var c,d;if(w&&a.bind===w)return w.apply(a,h.call(arguments,1));if(!x.isFunction(a))throw new TypeError;return c=h.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(h.call(arguments)));E.prototype=a.prototype;var e=new E;E.prototype=null;var f=a.apply(e,c.concat(h.call(arguments)));return Object(f)===f?f:e}},x.partial=function(a){var b=h.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;f>e;e++)d[e]===x&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},x.bindAll=function(a){var b=h.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:x.now(),g=null,f=a.apply(d,e),d=e=null};return function(){var j=x.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),d=e=null):g||c.trailing===!1||(g=setTimeout(i,k)),f}},x.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=x.now()-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),f=e=null))};return function(){f=this,e=arguments,g=x.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return x.partial(b,a)},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},x.keys=function(a){if(!x.isObject(a))return[];if(v)return v(a);var b=[];for(var c in a)x.has(a,c)&&b.push(c);return b},x.values=function(a){for(var b=x.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},x.pairs=function(a){for(var b=x.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},x.invert=function(a){for(var b={},c=x.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var F=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(x.isFunction(g)&&g instanceof g&&x.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1;c.push(a),d.push(b);var i=0,k=!0;if("[object Array]"==e){if(i=a.length,k=i==b.length)for(;i--&&(k=F(a[i],b[i],c,d)););}else{for(var l in a)if(x.has(a,l)&&(i++,!(k=x.has(b,l)&&F(a[l],b[l],c,d))))break;if(k){for(l in b)if(x.has(b,l)&&!i--)break;k=!i}}return c.pop(),d.pop(),k};x.isEqual=function(a,b){return F(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.constant=function(a){return function(){return a}},x.property=function(a){return function(b){return b[a]}},x.matches=function(a){return function(b){if(b===a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}},x.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},x.now=Date.now||function(){return(new Date).getTime()};var G={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};G.unescape=x.invert(G.escape);var H={escape:new RegExp("["+x.keys(G.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(G.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(H[a],function(b){return G[a][b]})}}),x.result=function(a,b){if(null==a)return void 0;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),M.call(this,c.apply(x,a))}})};var I=0;x.uniqueId=function(a){var b=++I+"";return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){var d;c=x.defaults({},c,x.templateSettings);var e=new RegExp([(c.escape||J).source,(c.interpolate||J).source,(c.evaluate||J).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(L,function(a){return"\\"+K[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,x);var i=function(a){return d.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},x.chain=function(a){return x(a).chain()};var M=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],M.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return M.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return x})}).call(this),function(a){var b="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(c,d,e){b.Backbone=a(b,e,c,d)});else if("undefined"!=typeof exports){var c,d=require("underscore");try{c=require("jquery")}catch(e){}a(b,exports,d,c)}else b.Backbone=a(b,{},b._,b.jQuery||b.Zepto||b.ender||b.$)}(function(a,b,c,d){var e=a.Backbone,f=[].slice;b.VERSION="1.2.1",b.$=d,b.noConflict=function(){return a.Backbone=e,this},b.emulateHTTP=!1,b.emulateJSON=!1;var g=function(a,b,d){switch(a){case 1:return function(){return c[b](this[d])};case 2:return function(a){return c[b](this[d],a)};case 3:return function(a,e){return c[b](this[d],a,e)};case 4:return function(a,e,f){return c[b](this[d],a,e,f)};default:return function(){var a=f.call(arguments);return a.unshift(this[d]),c[b].apply(c,a)}}},h=function(a,b,d){c.each(b,function(b,e){c[e]&&(a.prototype[e]=g(b,e,d))})},i=b.Events={},j=/\s+/,k=function(a,b,d,e,f){var g,h=0;if(d&&"object"==typeof d){void 0!==e&&"context"in f&&void 0===f.context&&(f.context=e);for(g=c.keys(d);h<g.length;h++)b=a(b,g[h],d[g[h]],f)}else if(d&&j.test(d))for(g=d.split(j);h<g.length;h++)b=a(b,g[h],e,f);else b=a(b,d,e,f);return b};i.on=function(a,b,c){return l(this,a,b,c)};var l=function(a,b,c,d,e){if(a._events=k(m,a._events||{},b,c,{context:d,ctx:a,listening:e}),e){var f=a._listeners||(a._listeners={});f[e.id]=e}return a};i.listenTo=function(a,b,d){if(!a)return this;var e=a._listenId||(a._listenId=c.uniqueId("l")),f=this._listeningTo||(this._listeningTo={}),g=f[e];if(!g){var h=this._listenId||(this._listenId=c.uniqueId("l"));g=f[e]={obj:a,objId:e,id:h,listeningTo:f,count:0}}return l(a,b,d,this,g),this};var m=function(a,b,c,d){if(c){var e=a[b]||(a[b]=[]),f=d.context,g=d.ctx,h=d.listening;h&&h.count++,e.push({callback:c,context:f,ctx:f||g,listening:h})}return a};i.off=function(a,b,c){return this._events?(this._events=k(n,this._events,a,b,{context:c,listeners:this._listeners}),this):this},i.stopListening=function(a,b,d){var e=this._listeningTo;if(!e)return this;for(var f=a?[a._listenId]:c.keys(e),g=0;g<f.length;g++){var h=e[f[g]];if(!h)break;h.obj.off(b,d,this)}return c.isEmpty(e)&&(this._listeningTo=void 0),this};var n=function(a,b,d,e){if(a){var f,g=0,h=e.context,i=e.listeners;if(b||d||h){for(var j=b?[b]:c.keys(a);g<j.length;g++){b=j[g];var k=a[b];if(!k)break;for(var l=[],m=0;m<k.length;m++){var n=k[m];d&&d!==n.callback&&d!==n.callback._callback||h&&h!==n.context?l.push(n):(f=n.listening,f&&0===--f.count&&(delete i[f.id],delete f.listeningTo[f.objId]))}l.length?a[b]=l:delete a[b]}return c.size(a)?a:void 0}for(var o=c.keys(i);g<o.length;g++)f=i[o[g]],delete i[f.id],delete f.listeningTo[f.objId]}};i.once=function(a,b,d){var e=k(o,{},a,b,c.bind(this.off,this));return this.on(e,void 0,d)},i.listenToOnce=function(a,b,d){var e=k(o,{},b,d,c.bind(this.stopListening,this,a));return this.listenTo(a,e)};var o=function(a,b,d,e){if(d){var f=a[b]=c.once(function(){e(b,f),d.apply(this,arguments)});f._callback=d}return a};i.trigger=function(a){if(!this._events)return this;for(var b=Math.max(0,arguments.length-1),c=Array(b),d=0;b>d;d++)c[d]=arguments[d+1];return k(p,this._events,a,void 0,c),this};var p=function(a,b,c,d){if(a){var e=a[b],f=a.all;e&&f&&(f=f.slice()),e&&q(e,d),f&&q(f,[b].concat(d))}return a},q=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b);return}};i.bind=i.on,i.unbind=i.off,c.extend(b,i);var r=b.Model=function(a,b){var d=a||{};b||(b={}),this.cid=c.uniqueId(this.cidPrefix),this.attributes={},b.collection&&(this.collection=b.collection),b.parse&&(d=this.parse(d,b)||{}),d=c.defaults({},d,c.result(this,"defaults")),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)};c.extend(r.prototype,i,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(a){return c.clone(this.attributes)},sync:function(){return b.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return c.escape(this.get(a))},has:function(a){return null!=this.get(a)},matches:function(a){return!!c.iteratee(a,this)(this.attributes)},set:function(a,b,d){if(null==a)return this;var e;if("object"==typeof a?(e=a,d=b):(e={})[a]=b,d||(d={}),!this._validate(e,d))return!1;var f=d.unset,g=d.silent,h=[],i=this._changing;this._changing=!0,i||(this._previousAttributes=c.clone(this.attributes),this.changed={});var j=this.attributes,k=this.changed,l=this._previousAttributes;this.idAttribute in e&&(this.id=e[this.idAttribute]);for(var m in e)b=e[m],c.isEqual(j[m],b)||h.push(m),c.isEqual(l[m],b)?delete k[m]:k[m]=b,f?delete j[m]:j[m]=b;if(!g){h.length&&(this._pending=d);for(var n=0;n<h.length;n++)this.trigger("change:"+h[n],this,j[h[n]],d)}if(i)return this;if(!g)for(;this._pending;)d=this._pending,this._pending=!1,this.trigger("change",this,d);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,c.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var d in this.attributes)b[d]=void 0;return this.set(b,c.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!c.isEmpty(this.changed):c.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?c.clone(this.changed):!1;var b=this._changing?this._previousAttributes:this.attributes,d={};for(var e in a){var f=a[e];c.isEqual(b[e],f)||(d[e]=f)}return c.size(d)?d:!1},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(a){a=c.extend({parse:!0},a);var b=this,d=a.success;return a.success=function(c){var e=a.parse?b.parse(c,a):c;return b.set(e,a)?(d&&d.call(a.context,b,c,a),void b.trigger("sync",b,c,a)):!1},N(this,a),this.sync("read",this,a)},save:function(a,b,d){var e;null==a||"object"==typeof a?(e=a,d=b):(e={})[a]=b,d=c.extend({validate:!0,parse:!0},d);var f=d.wait;if(e&&!f){if(!this.set(e,d))return!1}else if(!this._validate(e,d))return!1;var g=this,h=d.success,i=this.attributes;d.success=function(a){g.attributes=i;var b=d.parse?g.parse(a,d):a;return f&&(b=c.extend({},e,b)),b&&!g.set(b,d)?!1:(h&&h.call(d.context,g,a,d),void g.trigger("sync",g,a,d))},N(this,d),e&&f&&(this.attributes=c.extend({},i,e));var j=this.isNew()?"create":d.patch?"patch":"update";"patch"!==j||d.attrs||(d.attrs=e);var k=this.sync(j,this,d);return this.attributes=i,k},destroy:function(a){a=a?c.clone(a):{};var b=this,d=a.success,e=a.wait,f=function(){b.stopListening(),b.trigger("destroy",b,b.collection,a)};a.success=function(c){e&&f(),d&&d.call(a.context,b,c,a),b.isNew()||b.trigger("sync",b,c,a)};var g=!1;return this.isNew()?c.defer(a.success):(N(this,a),g=this.sync("delete",this,a)),e||f(),g},url:function(){var a=c.result(this,"urlRoot")||c.result(this.collection,"url")||M();if(this.isNew())return a;var b=this.get(this.idAttribute);return a.replace(/[^\/]$/,"$&/")+encodeURIComponent(b)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},c.defaults({validate:!0},a))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=c.extend({},this.attributes,a);var d=this.validationError=this.validate(a,b)||null;return d?(this.trigger("invalid",this,d,c.extend(b,{validationError:d})),!1):!0}});var s={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};h(r,s,"attributes");var t=b.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,c.extend({silent:!0},b))},u={add:!0,remove:!0,merge:!0},v={add:!0,remove:!1};c.extend(t.prototype,i,{model:r,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return b.sync.apply(this,arguments)},add:function(a,b){return this.set(a,c.extend({merge:!1},b,v))},remove:function(a,b){b=c.extend({},b);var d=!c.isArray(a);a=d?[a]:c.clone(a);var e=this._removeModels(a,b);return!b.silent&&e&&this.trigger("update",this,b),d?e[0]:e},set:function(a,b){b=c.defaults({},b,u),b.parse&&!this._isModel(a)&&(a=this.parse(a,b));var d=!c.isArray(a);a=d?a?[a]:[]:a.slice();var e,f,g,h,i,j=b.at;null!=j&&(j=+j),0>j&&(j+=this.length+1);for(var k=this.comparator&&null==j&&b.sort!==!1,l=c.isString(this.comparator)?this.comparator:null,m=[],n=[],o={},p=b.add,q=b.merge,r=b.remove,s=!k&&p&&r?[]:!1,t=!1,v=0;v<a.length;v++){if(g=a[v],h=this.get(g))r&&(o[h.cid]=!0),q&&g!==h&&(g=this._isModel(g)?g.attributes:g,b.parse&&(g=h.parse(g,b)),h.set(g,b),k&&!i&&h.hasChanged(l)&&(i=!0)),a[v]=h;else if(p){if(f=a[v]=this._prepareModel(g,b),!f)continue;m.push(f),this._addReference(f,b)}f=h||f,f&&(e=this.modelId(f.attributes),!s||!f.isNew()&&o[e]||(s.push(f),t=t||!this.models[v]||f.cid!==this.models[v].cid),o[e]=!0)}if(r){for(var v=0;v<this.length;v++)o[(f=this.models[v]).cid]||n.push(f);n.length&&this._removeModels(n,b)}if(m.length||t)if(k&&(i=!0),this.length+=m.length,null!=j)for(var v=0;v<m.length;v++)this.models.splice(j+v,0,m[v]);else{s&&(this.models.length=0);for(var w=s||m,v=0;v<w.length;v++)this.models.push(w[v])}if(i&&this.sort({silent:!0}),!b.silent){for(var x=null!=j?c.clone(b):b,v=0;v<m.length;v++)null!=j&&(x.index=j+v),(f=m[v]).trigger("add",f,this,x);(i||t)&&this.trigger("sort",this,b),(m.length||n.length)&&this.trigger("update",this,b)}return d?a[0]:a},reset:function(a,b){b=b?c.clone(b):{};for(var d=0;d<this.models.length;d++)this._removeReference(this.models[d],b);return b.previousModels=this.models,this._reset(),a=this.add(a,c.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),a},push:function(a,b){return this.add(a,c.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a)},unshift:function(a,b){return this.add(a,c.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a)},slice:function(){return f.apply(this.models,arguments)},get:function(a){if(null==a)return void 0;var b=this.modelId(this._isModel(a)?a.attributes:a);return this._byId[a]||this._byId[b]||this._byId[a.cid]},at:function(a){return 0>a&&(a+=this.length),this.models[a]},where:function(a,b){var d=c.matches(a);return this[b?"find":"filter"](function(a){return d(a.attributes)})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),c.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(c.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},pluck:function(a){return c.invoke(this.models,"get",a)},fetch:function(a){a=c.extend({parse:!0},a);var b=a.success,d=this;return a.success=function(c){var e=a.reset?"reset":"set";d[e](c,a),b&&b.call(a.context,d,c,a),d.trigger("sync",d,c,a)},N(this,a),this.sync("read",this,a)},create:function(a,b){b=b?c.clone(b):{};var d=b.wait;if(a=this._prepareModel(a,b),!a)return!1;d||this.add(a,b);var e=this,f=b.success;return b.success=function(a,b,c){d&&e.add(a,c),f&&f.call(c.context,a,b,c)},a.save(null,b),a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(a){return a[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(this._isModel(a))return a.collection||(a.collection=this),a;b=b?c.clone(b):{},b.collection=this;var d=new this.model(a,b);return d.validationError?(this.trigger("invalid",this,d.validationError,b),!1):d},_removeModels:function(a,b){for(var c=[],d=0;d<a.length;d++){var e=this.get(a[d]);if(e){var f=this.indexOf(e);this.models.splice(f,1),this.length--,b.silent||(b.index=f,e.trigger("remove",e,this,b)),c.push(e),this._removeReference(e,b)}}return c.length?c:!1},_isModel:function(a){return a instanceof r},_addReference:function(a,b){this._byId[a.cid]=a;var c=this.modelId(a.attributes);null!=c&&(this._byId[c]=a),a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){delete this._byId[a.cid];var c=this.modelId(a.attributes);null!=c&&delete this._byId[c],this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){if("add"!==a&&"remove"!==a||c===this){if("destroy"===a&&this.remove(b,d),"change"===a){var e=this.modelId(b.previousAttributes()),f=this.modelId(b.attributes);e!==f&&(null!=e&&delete this._byId[e],null!=f&&(this._byId[f]=b))}this.trigger.apply(this,arguments)}}});var w={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:2,contains:2,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3};h(t,w,"models");var x=["groupBy","countBy","sortBy","indexBy"];c.each(x,function(a){c[a]&&(t.prototype[a]=function(b,d){var e=c.isFunction(b)?b:function(a){return a.get(b)};return c[a](this.models,e,d)})});var y=b.View=function(a){this.cid=c.uniqueId("view"),c.extend(this,c.pick(a,A)),this._ensureElement(),this.initialize.apply(this,arguments)},z=/^(\S+)\s*(.*)$/,A=["model","collection","el","id","attributes","className","tagName","events"];c.extend(y.prototype,i,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(a){return this.undelegateEvents(),this._setElement(a),this.delegateEvents(),this},_setElement:function(a){this.$el=a instanceof b.$?a:b.$(a),this.el=this.$el[0]},delegateEvents:function(a){if(a||(a=c.result(this,"events")),!a)return this;this.undelegateEvents();for(var b in a){var d=a[b];if(c.isFunction(d)||(d=this[d]),d){var e=b.match(z);this.delegate(e[1],e[2],c.bind(d,this))}}return this},delegate:function(a,b,c){return this.$el.on(a+".delegateEvents"+this.cid,b,c),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(a,b,c){return this.$el.off(a+".delegateEvents"+this.cid,b,c),this},_createElement:function(a){return document.createElement(a)},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"));else{var a=c.extend({},c.result(this,"attributes"));this.id&&(a.id=c.result(this,"id")),this.className&&(a["class"]=c.result(this,"className")),this.setElement(this._createElement(c.result(this,"tagName"))),this._setAttributes(a)}},_setAttributes:function(a){this.$el.attr(a)}}),b.sync=function(a,d,e){var f=B[a];c.defaults(e||(e={}),{emulateHTTP:b.emulateHTTP,emulateJSON:b.emulateJSON});var g={type:f,dataType:"json"};if(e.url||(g.url=c.result(d,"url")||M()),null!=e.data||!d||"create"!==a&&"update"!==a&&"patch"!==a||(g.contentType="application/json",g.data=JSON.stringify(e.attrs||d.toJSON(e))),e.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{}),e.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===f)){g.type="POST",e.emulateJSON&&(g.data._method=f);var h=e.beforeSend;e.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",f),h?h.apply(this,arguments):void 0}}"GET"===g.type||e.emulateJSON||(g.processData=!1);var i=e.error;e.error=function(a,b,c){e.textStatus=b,e.errorThrown=c,i&&i.call(e.context,a,b,c)};var j=e.xhr=b.ajax(c.extend(g,e));return d.trigger("request",d,j,e),j};var B={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};b.ajax=function(){return b.$.ajax.apply(b.$,arguments)};var C=b.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},D=/\((.*?)\)/g,E=/(\(\?)?:\w+/g,F=/\*\w+/g,G=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(C.prototype,i,{initialize:function(){},route:function(a,d,e){c.isRegExp(a)||(a=this._routeToRegExp(a)),c.isFunction(d)&&(e=d,d=""),e||(e=this[d]);var f=this;return b.history.route(a,function(c){var g=f._extractParameters(a,c);f.execute(e,g,d)!==!1&&(f.trigger.apply(f,["route:"+d].concat(g)),f.trigger("route",d,g),b.history.trigger("route",f,d,g))}),this},execute:function(a,b,c){a&&a.apply(this,b)},navigate:function(a,c){return b.history.navigate(a,c),this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var a,b=c.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(G,"\\$&").replace(D,"(?:$1)?").replace(E,function(a,b){return b?a:"([^/?]+)"}).replace(F,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return c.map(d,function(a,b){return b===d.length-1?a||null:a?decodeURIComponent(a):null})}});var H=b.History=function(){this.handlers=[],c.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,J=/^\/+|\/+$/g,K=/#.*$/;H.started=!1,
c.extend(H.prototype,i,{interval:50,atRoot:function(){var a=this.location.pathname.replace(/[^\/]$/,"$&/");return a===this.root&&!this.getSearch()},matchRoot:function(){var a=this.decodeFragment(this.location.pathname),b=a.slice(0,this.root.length-1)+"/";return b===this.root},decodeFragment:function(a){return decodeURI(a.replace(/%25/g,"%2525"))},getSearch:function(){var a=this.location.href.replace(/#.*/,"").match(/\?.+/);return a?a[0]:""},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getPath:function(){var a=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===a.charAt(0)?a.slice(1):a},getFragment:function(a){return null==a&&(a=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),a.replace(I,"")},start:function(a){if(H.started)throw new Error("Backbone.history has already been started");if(H.started=!0,this.options=c.extend({root:"/"},this.options,a),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window,this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(J,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var b=this.root.slice(0,-1)||"/";return this.location.replace(b+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var d=document.body,e=d.insertBefore(this.iframe,d.firstChild).contentWindow;e.document.open(),e.document.close(),e.location.hash="#"+this.fragment}var f=window.addEventListener||function(a,b){return attachEvent("on"+a,b)};return this._usePushState?f("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?f("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var a=window.removeEventListener||function(a,b){return detachEvent("on"+a,b)};this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&a("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),H.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){var b=this.getFragment();return b===this.fragment&&this.iframe&&(b=this.getHash(this.iframe.contentWindow)),b===this.fragment?!1:(this.iframe&&this.navigate(b),void this.loadUrl())},loadUrl:function(a){return this.matchRoot()?(a=this.fragment=this.getFragment(a),c.any(this.handlers,function(b){return b.route.test(a)?(b.callback(a),!0):void 0})):!1},navigate:function(a,b){if(!H.started)return!1;b&&b!==!0||(b={trigger:!!b}),a=this.getFragment(a||"");var c=this.root;(""===a||"?"===a.charAt(0))&&(c=c.slice(0,-1)||"/");var d=c+a;if(a=this.decodeFragment(a.replace(K,"")),this.fragment!==a){if(this.fragment=a,this._usePushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,d);else{if(!this._wantsHashChange)return this.location.assign(d);if(this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getHash(this.iframe.contentWindow)){var e=this.iframe.contentWindow;b.replace||(e.document.open(),e.document.close()),this._updateHash(e.location,a,b.replace)}}return b.trigger?this.loadUrl(a):void 0}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),b.history=new H;var L=function(a,b){var d,e=this;d=a&&c.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)},c.extend(d,e,b);var f=function(){this.constructor=d};return f.prototype=e.prototype,d.prototype=new f,a&&c.extend(d.prototype,a),d.__super__=e.prototype,d};r.extend=t.extend=C.extend=y.extend=H.extend=L;var M=function(){throw new Error('A "url" property or function must be specified')},N=function(a,b){var c=b.error;b.error=function(d){c&&c.call(b.context,a,d,b),a.trigger("error",a,d,b)}};return b}),function(a){"function"==typeof define&&define.amd?define(["backbone"],a):"object"==typeof module?module.exports=a(require("backbone")):a(Backbone)}(function(a){var b=/^\s*</,c="undefined"!=typeof Element&&Element.prototype||{},d=c.addEventListener||function(a,b){return this.attachEvent("on"+a,b)},e=c.removeEventListener||function(a,b){return this.detachEvent("on"+a,b)},f=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},g=c.matches||c.webkitMatchesSelector||c.mozMatchesSelector||c.msMatchesSelector||c.oMatchesSelector||function(a){var b=(this.parentNode||document).querySelectorAll(a)||[];return~f(b,this)},h=a.View;return a.NativeViewMixin={_domEvents:null,constructor:function(){return this._domEvents=[],h.apply(this,arguments)},$:function(a){return this.el.querySelectorAll(a)},_removeElement:function(){this.undelegateEvents(),this.el.parentNode&&this.el.parentNode.removeChild(this.el)},_setElement:function(a){if("string"==typeof a)if(b.test(a)){var c=document.createElement("div");c.innerHTML=a,this.el=c.firstChild}else this.el=document.querySelector(a);else this.el=a},_setAttributes:function(a){for(var b in a)b in this.el?this.el[b]=a[b]:this.el.setAttribute(b,a[b])},delegate:function(a,b,c){"function"==typeof b&&(c=b,b=null);var e=this.el,f=b?function(a){for(var d=a.target||a.srcElement;d&&d!=e;d=d.parentNode)g.call(d,b)&&(a.delegateTarget=d,c(a))}:c;return d.call(this.el,a,f,!1),this._domEvents.push({eventName:a,handler:f,listener:c,selector:b}),f},undelegate:function(a,b,c){if("function"==typeof b&&(c=b,b=null),this.el)for(var d=this._domEvents.slice(),f=d.length;f--;){var g=d[f],h=g.eventName===a&&(c?g.listener===c:!0)&&(b?g.selector===b:!0);h&&(e.call(this.el,g.eventName,g.handler,!1),this._domEvents.splice(f,1))}return this},undelegateEvents:function(){if(this.el){for(var a=0,b=this._domEvents.length;b>a;a++){var c=this._domEvents[a];e.call(this.el,c.eventName,c.handler,!1)}this._domEvents.length=0}return this}},a.NativeView=a.View.extend(a.NativeViewMixin),a.NativeView}),function(a,b){"use strict";var c="AxmTYklsjo190QW",d="sans-serif",e="serif",f={normal:"400",bold:"700"},g={tolerance:2,delay:100,glyphs:"",success:function(){},error:function(){},timeout:5e3,weight:"400",style:"normal"},h=["display:block","position:absolute","top:-999px","left:-999px","font-size:48px","width:auto","height:auto","line-height:normal","margin:0","padding:0","font-variant:normal","white-space:nowrap"],i='<div style="%s">'+c+"</div>",j=function(){this.fontFamily="",this.appended=!1,this.serif=void 0,this.sansSerif=void 0,this.parent=void 0,this.options={}};j.prototype.getMeasurements=function(){return{sansSerif:{width:this.sansSerif.offsetWidth,height:this.sansSerif.offsetHeight},serif:{width:this.serif.offsetWidth,height:this.serif.offsetHeight}}},j.prototype.load=function(){function c(a){return h.concat(["font-weight:"+q.weight,"font-style:"+q.style]).concat("font-family:"+a).join(";")}function f(a,b,c){return Math.abs(a.width-b.offsetWidth)>c||Math.abs(a.height-b.offsetHeight)>c}function g(){return(new Date).getTime()-k.getTime()>q.timeout}var j,k=new Date,l=this,m=l.serif,n=l.sansSerif,o=l.parent,p=l.appended,q=this.options,r=q.reference,s=i.replace(/\%s/,c(d)),t=i.replace(/\%s/,c(e));o||(o=l.parent=b.createElement("div")),o.innerHTML=s+t,n=l.sansSerif=o.firstChild,m=l.serif=n.nextSibling,q.glyphs&&(n.innerHTML+=q.glyphs,m.innerHTML+=q.glyphs),function u(){r||(r=b.body),!p&&r&&(r.appendChild(o),p=l.appended=!0,j=l.getMeasurements(),n.style.fontFamily=l.fontFamily+", "+d,m.style.fontFamily=l.fontFamily+", "+e),p&&j&&(f(j.sansSerif,n,q.tolerance)||f(j.serif,m,q.tolerance))?q.success():g()?q.error():!p&&"requestAnimationFrame"in window?a.requestAnimationFrame(u):a.setTimeout(u,q.delay)}()},j.prototype.checkFontFaces=function(c){var d=this;b.fonts.forEach(function(b){b.family.toLowerCase()===d.fontFamily.toLowerCase()&&(f[b.weight]||b.weight)===""+d.options.weight&&b.style===d.options.style&&b.load().then(function(){d.options.success(),a.clearTimeout(c)})})},j.prototype.init=function(c,d){var e;for(var f in g)d.hasOwnProperty(f)||(d[f]=g[f]);this.options=d,this.fontFamily=c,!d.glyphs&&"fonts"in b?(d.timeout&&(e=a.setTimeout(function(){d.error()},d.timeout)),this.checkFontFaces(e)):this.load()};var k=function(a,b){var c=new j;return c.init(a,b),c};a.FontFaceOnload=k}(this,this.document);var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},dt;!function(a){var b;!function(b){var c;!function(a){a[a.Top=0]="Top",a[a.Sticky=1]="Sticky",a[a.Bottom=2]="Bottom"}(c||(c={}));var d=function(b){function d(d){var e=this;return b.call(this,d),this.state=c.Top,a.hasPositionSticky?void a.addClass(document.body,"has-sticky"):(a.addEventListener(window,"scroll",function(){return e.onScroll()}),a.addEventListener(window,"resize",function(){return e.onResize()}),FontFaceOnload("Open Sans",{success:function(){return e.onResize()}}),FontFaceOnload("Raleway",{success:function(){return e.onResize()}}),void this.onResize())}return __extends(d,b),d.prototype.setState=function(b){this.state!=b&&(a.removeClass(this.el,c[this.state].toLowerCase()),this.state=b,a.addClass(this.el,c[this.state].toLowerCase()))},d.prototype.onScroll=function(){var b=a.scrollTop();b<this.min?this.setState(c.Top):b>this.max?this.setState(c.Bottom):this.setState(c.Sticky)},d.prototype.onResize=function(){var b=this.el.parentNode;this.min=b.getBoundingClientRect().top+a.scrollTop()-40;var b=b.parentNode;this.max=this.min+b.offsetHeight-this.el.offsetHeight+4,this.onScroll()},d}(Backbone.NativeView);b.Component=d}(b=a.menu||(a.menu={}))}(dt||(dt={}));var dt;!function(a){var b;!function(b){var c=function(b){function c(a){b.call(this,_.defaults(a||{},{events:{"click .menu-widget":"onWidgetClick"}})),this.isExpanded=!1}return __extends(c,b),c.prototype.setTransition=function(b,c){var d=this;void 0===c&&(c=400),this.transition!=b&&(this.transition&&(clearTimeout(this.transitionTimeout),a.removeClass(this.el,this.transition)),a.addClass(this.el,b),this.transition=b,this.transitionTimeout=setTimeout(function(){a.removeClass(d.el,b),d.transition=d.transitionTimeout=null},c))},c.prototype.onWidgetClick=function(){this.isExpanded=!this.isExpanded,a.toggleClass(document.documentElement,"has-menu",this.isExpanded),this.isExpanded?this.setTransition("menu-fade-in",750):this.setTransition("menu-fade-out",250)},c}(Backbone.NativeView);b.Component=c}(b=a.navigation||(a.navigation={}))}(dt||(dt={}));var dt;!function(a){var b;!function(a){var b=function(b){function c(c){b.call(this,c),this.model=this.model||new a.ViewState,a.ListItem.prototype.compactTemplate=this.getTemplate("list-row-compact"),a.ListItem.prototype.detailsTemplate=this.getTemplate("list-row-details"),a.Pagination.prototype.itemTemplate=this.getTemplate("pagination"),this.form=new a.SearchForm({el:this.el.querySelector(".dt-repository-search-form"),model:this.model}),this.results=new a.Results({el:this.el.querySelector(".dt-repository-search-results"),model:this.model})}return __extends(c,b),c.prototype.getTemplate=function(a){var b=this.el.querySelector("script."+a);return b?_.template(b.innerHTML):function(){return""}},c}(Backbone.NativeView);a.Component=b}(b=a.repository||(a.repository={}))}(dt||(dt={}));var dt;!function(a){var b;!function(a){var b=function(a){function b(b){void 0===b&&(b="/tsd/data/repository.json"),a.call(this),this.jsonUrl=b,this.state=0,this.load()}return __extends(b,a),b.prototype.isLoaded=function(){return 2==this.state},b.prototype.load=function(){var a=this;if(0==this.state){this.setState(1);var b=new XMLHttpRequest;b.onreadystatechange=function(){4===b.readyState&&(b.status>=200&&b.status<400?(a.setData(b.responseText),a.setState(2)):a.setState(3))},b.open("GET",this.jsonUrl,!0),b.send()}},b.prototype.require=function(a){this.data?a(this.data):(this.once("loaded",a),this.load())},b.prototype.query=function(a,b){this.require(function(c){var d=a.toLowerCase().split(/\s+/),e=d.length;b(_(c.content).filter(function(a){for(var b=0,c=0;e>c;c++){var f=d[c],g=a.name.indexOf(f);-1!=g?b+=1==e&&a.name==f?9:0==g?2:1:b-=1}return a.score=b/e,a.score>=1}).sort(function(a,b){return a.score==b.score?a.name==b.name?0:a.sword>b.sword?1:-1:a.score<b.score?1:-1}))})},b.prototype.setState=function(a){this.set("state",a)},b.prototype.setData=function(a){var b=JSON.parse(a),c={};_(b.content).forEach(function(a,b){c[a.path]=b,a.id=b,a.sword=a.name.toLowerCase(),a.download=a.info.reposUrl+"/raw/master/"+a.path,a.github=a.info.reposUrl+"/tree/master/"+a.project,a.nuget="http://www.nuget.org/packages/"+a.project+".TypeScript.DefinitelyTyped/"}),_(b.content).forEach(function(a,d){a.references=_(a.info.references).map(function(a){var d={location:a};if("../"==a.substr(0,3)&&(a=a.substr(3)),a in c){var e=b.content[c[a]];d.name=e.name,d.download=e.download}return d})}),b.content.sort(function(a,b){return a.sword==b.sword?0:a.sword>b.sword?1:-1}),this.data=b,this.trigger("loaded",b)},b}(Backbone.Model);a.Repository=b}(b=a.repository||(a.repository={}))}(dt||(dt={}));var dt;!function(a){var b;!function(a){!function(a){a[a.Idle=0]="Idle",a[a.Query=1]="Query",a[a.Loading=2]="Loading",a[a.Empty=3]="Empty",a[a.All=4]="All"}(a.ViewMode||(a.ViewMode={}));var b=a.ViewMode,c=function(c){function d(b,d){c.call(this,b,d),d&&d.repository?this.repository=d.repository:this.repository=new a.Repository}return __extends(d,c),d.prototype.defaults=function(){return{query:"",mode:b.Idle,results:[],resultsCount:0,resultsPages:0,resultsOffset:0,resultsPerPage:10}},d.prototype.idle=function(){this.set("mode",b.Idle),this.set("query",""),this.setResults([])},d.prototype.all=function(){var a=this;this.attributes.mode!=b.All&&(this.set("query",""),this.repository.isLoaded()||this.set("mode",b.Loading),this.repository.require(function(c){""==a.attributes.query&&(a.set("mode",b.All),a.setResults(c.content))}))},d.prototype.query=function(a){var c=this;a=a.replace(/^\s+|\s+$/g,""),this.attributes.query!=a&&(this.set("query",a),""==a?this.idle():(this.repository.isLoaded()||this.set("mode",b.Loading),this.repository.query(a,function(d){c.attributes.query==a&&(c.set("mode",d.length?b.Query:b.Empty),c.setResults(d))})))},d.prototype.getResults=function(){return this.get("results")},d.prototype.getVisibleResults=function(){var a=this.getResults(),b=this.get("resultsOffset"),c=Math.min(b+this.get("resultsPerPage"),this.get("resultsCount"));return a.slice(b,c)},d.prototype.setResults=function(a){_.isArray(a)||(a=[]);var b=a.length,c=this.attributes.resultsPerPage;this.set({results:a,resultsCount:b,resultsPages:Math.ceil(b/c),resultsOffset:0})},d}(Backbone.Model);a.ViewState=c}(b=a.repository||(a.repository={}))}(dt||(dt={}));var dt;!function(a){var b;!function(b){var c=function(a){function b(b){a.call(this,_.defaults(b||{},{tagName:"ul",className:"dt-repository-search-list"})),this.listenTo(this.model,"change:results",this.onResultsChanged),this.listenTo(this.model,"change:resultsOffset",this.onResultsChanged)}return __extends(b,a),b.prototype.onResultsChanged=function(a){var b=this;_(this.items).each(function(a){return a.remove()}),this.items=[],_(a.getVisibleResults()).each(function(a){var c=new d({model:a});b.items.push(c),b.el.appendChild(c.el)}),this.items.length>0&&(this.el.classList?this.el.classList.remove("empty"):this.el.className)},b}(Backbone.NativeView);b.List=c;var d=function(b){function c(a){b.call(this,_.defaults(a||{},{tagName:"li",className:"list-item",attributes:{tabindex:0},events:{"click .header":"onHeaderClick",keydown:"onKeyDown"}})),this.el.innerHTML=this.compactTemplate(this.model)}return __extends(c,b),c.prototype.setExpanded=function(b){var c=this;if(this.isExpanded!=b){this.isExpanded=b;var d;b?(this.createDetails(),d="expanding"):d="collapsing",a.transitionHeight(this.el,function(){a.toggleClass(c.el,"expanded",b)}),this.setTransition(d)}},c.prototype.setTransition=function(b,c){var d=this;void 0===c&&(c=400),this.transition!=b&&(this.transition&&(clearTimeout(this.transitionTimeout),a.removeClass(this.el,this.transition)),a.addClass(this.el,b),this.transition=b,this.transitionTimeout=setTimeout(function(){a.removeClass(d.el,b),d.transition=d.transitionTimeout=null},c))},c.prototype.createDetails=function(){if(!this.isDetailCreated){this.isDetailCreated=!0;var a=document.createElement("div");for(a.innerHTML=this.detailsTemplate(this.model);a.firstChild;)this.el.appendChild(a.firstChild)}},c.prototype.onHeaderClick=function(b){var c=b.target||b.srcElement;c&&"A"==c.tagName||(a.preventDefault(b),this.setExpanded(!this.isExpanded),this.el.blur())},c.prototype.onKeyDown=function(a){a.srcElement==this.el&&13==a.keyCode&&this.setExpanded(!this.isExpanded)},c}(Backbone.NativeView);b.ListItem=d}(b=a.repository||(a.repository={}))}(dt||(dt={}));var dt;!function(a){var b;!function(b){var c=function(b){function c(a){b.call(this,_.defaults(a||{},{tagName:"ul",className:"dt-repository-search-pagination",events:{"click li":"onItemClick"}})),this.listenTo(this.model,"change:results",this.onResultsChanged),this.listenTo(this.model,"change:resultsOffset",this.onResultsChanged)}return __extends(c,b),c.prototype.render=function(){for(var b=this.getItems(),c="",d=0;d<b.length;d++){var e=b[d];c+=this.itemTemplate(e)}return this.el.innerHTML=c,a.toggleClass(this.el,"empty",0==b.length),this},c.prototype.getItems=function(){var a=this.model.attributes;if(a.resultsPages<2)return[];var b=Math.floor(a.resultsOffset/a.resultsPerPage),c=Math.max(0,b-2),d=Math.min(a.resultsPages-1,c+4);return c=Math.max(0,d-4),this.getItemsRange(b,c,d,a.resultsPages)},c.prototype.getItemsRange=function(a,b,c,d){var e=[];a>0?e.push({index:a-1,label:"&lt;",className:"previous"}):e.push({label:"&lt;",className:"previous disabled"});for(var f=b;c>=f;f++)e.push({index:f,label:f+1,className:"item"+(f==a?" current":"")});return d-1>a?e.push({index:a+1,label:"&gt;",className:"next"}):e.push({label:"&gt;",className:"next disabled"}),e},c.prototype.onResultsChanged=function(){this.render()},c.prototype.onItemClick=function(b){var c=b.target;if(c.hasAttribute("data-index")){var d=parseInt(c.getAttribute("data-index"));d*=this.model.attributes.resultsPerPage,this.model.set("resultsOffset",d),a.preventDefault(b)}},c}(Backbone.NativeView);b.Pagination=c}(b=a.repository||(a.repository={}))}(dt||(dt={}));var dt;!function(a){var b;!function(b){var c=function(c){function d(a){c.call(this,a),this.mode="idle",this.list=new b.List({el:this.el.querySelector("ul.dt-repository-search-list"),model:this.model}),this.pagination=new b.Pagination({el:this.el.querySelector("ul.dt-repository-search-pagination"),model:this.model}),this.listenTo(this.model,"change:mode",this.onModeChanged)}return __extends(d,c),d.prototype.onModeChanged=function(c,d){a.removeClass(this.el,this.mode),this.mode=b.ViewMode[d].toLowerCase(),a.addClass(this.el,this.mode)},d}(Backbone.NativeView);b.Results=c}(b=a.repository||(a.repository={}))}(dt||(dt={}));var dt;!function(a){var b;!function(b){var c=function(b){function c(c){b.call(this,c),this.delegateEvents({submit:function(b){return a.preventDefault(b)},"click .all":"onAllClick"}),this.sword=new d({el:this.el.querySelector("dl.sword"),model:this.model})}return __extends(c,b),c.prototype.onAllClick=function(b){a.preventDefault(b),this.model.all()},c}(Backbone.NativeView);b.SearchForm=c;var d=function(b){function c(c){var d=this;b.call(this,c),this.input=this.el.querySelector("input"),a.addEventListener(this.input,"input",function(){return d.onInputChanged()}),a.addEventListener(this.input,"keydown",function(a){return d.onInputKeyDown(a)}),this.listenTo(this.model,"change:query",this.onQueryChanged),this.delegateEvents({"click button":"onButtonClick"}),""!=this.input.value&&_.defer(function(){return d.commit()})}return __extends(c,b),c.prototype.commit=function(){if(!this.isCommiting){this.isCommiting=!0;var b=this.input.value;a.toggleClass(this.el,"has-sword",""!=b),this.model.query(b),this.isCommiting=!1}},c.prototype.onQueryChanged=function(b,c){this.isCommiting||(a.toggleClass(this.el,"has-sword",""!=c),this.input.value=c)},c.prototype.onInputChanged=function(){this.commit()},c.prototype.onInputKeyDown=function(a){13==a.keyCode?this.commit():27==a.keyCode&&this.model.idle()},c.prototype.onButtonClick=function(b){a.preventDefault(b),""!=this.model.attributes.query?this.model.idle():this.commit()},c}(Backbone.NativeView)}(b=a.repository||(a.repository={}))}(dt||(dt={}));var dt;!function(a){var b;!function(b){var c=function(c){function d(e){var f=this;return c.call(this,e),this.width=0,this.height=0,this.tilt=0,this.lastFrame=Date.now(),a.transformStyle&&d.isCanvasSupported()?(this.layers=[new b.StarLayer({className:"dust",component:this,depth:1,spriteSrc:"/assets/images/skyline-dust.png",spriteSize:200,density:.25,isDust:!0}),new b.StarLayer({className:"stars-sm",component:this,depth:.9,spriteSrc:"/assets/images/skyline-stars-sm.png",spriteSize:10,density:1.5}),this.fx=new b.FXLayer({className:"fx",component:this,depth:.8,spriteSrc:"/assets/images/skyline-stars-md.png",spriteSize:10,density:2}),new b.StarLayer({className:"stars-md",component:this,depth:.7,spriteSrc:"/assets/images/skyline-stars-md.png",spriteSize:10,density:.5}),new b.CityLayer({className:"city-a",component:this,depth:.33,spriteSrc:"/assets/images/skyline-city-a.png",colorFrom:"#0e1928",colorTo:"#1a2e49",offset:300}),new b.CityLayer({className:"city-b",component:this,depth:0,spriteSrc:"/assets/images/skyline-city-b.png",colorFrom:"#172942",colorTo:"#1a2e49"})],a.addEventListener(window,"resize",_.throttle(function(){return f.onResize()},100)),this.onResize(),void this.update()):void a.addClass(this.el,"fallback")}return __extends(d,c),d.prototype.update=function(){var b=this,c=Date.now();this.fx.update(c-this.lastFrame),this.lastFrame=c;var d=Math.min(300,.5*this.height);if(d*=Math.min(1,a.scrollTop()/this.height),this.tilt!=d){this.tilt=d;for(var e=0,f=this.layers;e<f.length;e++){var g=f[e];g.setTilt(d)}}window.requestAnimationFrame(function(){return b.update()})},d.prototype.triggerMeasure=function(){for(var a=0,b=this.layers;a<b.length;a++){var c=b[a];c.setSize(this.width,this.height)}},d.prototype.onResize=function(){var a=this.el.offsetWidth,b=this.el.offsetHeight;(this.width!=a||this.height!=b)&&(this.width=a,this.height=b,this.triggerMeasure())},d.isCanvasSupported=function(){var a=document.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))},d}(Backbone.NativeView);b.Component=c}(b=a.stars||(a.stars={}))}(dt||(dt={}));var dt;!function(a){var b;!function(b){var c=function(b){function c(a){b.call(this,a),this.depth=1,this.width=0,this.height=0,this.component=a.component,this.component.el.appendChild(this.el),void 0!==a.depth&&(this.depth=a.depth)}return __extends(c,b),c.prototype.setTilt=function(b){this.el.style[a.transformStyle]="translate(0,"+b*this.depth+"px)"},c.prototype.setSize=function(a,b){var c=this.measure({width:a,height:b});(this.width!=c.width||this.height!=c.height)&&(this.width=a,this.height=b,this.draw())},c.prototype.draw=function(){},c.prototype.measure=function(a){return a},c}(Backbone.NativeView);b.Layer=c;var d=function(b){function c(a){b.call(this,_.defaults(a||{},{tagName:"canvas"})),this.context=this.el.getContext("2d")}return __extends(c,b),c.prototype.measure=function(a){return(this.width!=a.width||this.height!=a.height)&&(this.el.width=a.width,this.el.height=a.height),a},c.loadImage=function(b,c){var d=document.createElement("img"),e=function(){a.removeEventListener(d,"load",e),c(d)};a.addEventListener(d,"load",e),d.src=b},c}(c);b.CanvasLayer=d}(b=a.stars||(a.stars={}))}(dt||(dt={}));var dt;!function(a){var b;!function(a){var b=function(b){function c(c){var d=this;b.call(this,c),this.spriteWidth=0,this.spriteHeight=0,this.offset=0,this.scale=1,c.offset&&(this.offset=c.offset),a.CanvasLayer.loadImage(c.spriteSrc,function(a){d.setSprite(a,c.colorFrom,c.colorTo)})}return __extends(c,b),c.prototype.draw=function(){if(this.sprite){var a=this.context,b=this.scale,c=-Math.abs(this.offset*b);for(a.clearRect(0,0,this.width,this.height),a.setTransform(b,0,0,b,0,0);c<this.width;)a.drawImage(this.sprite,c/b,0),c=Math.floor(c+this.spriteWidth*b)}},c.prototype.measure=function(a){var c=this.scale=Math.min(1,a.width/this.spriteWidth);return a.height=Math.floor(this.spriteHeight*c),b.prototype.measure.call(this,a)},c.prototype.setSprite=function(a,b,c){var d=this.sprite=document.createElement("canvas"),e=d.width=this.spriteWidth=a.naturalWidth,f=d.height=this.spriteHeight=a.naturalHeight,g=d.getContext("2d"),h=g.createLinearGradient(0,0,0,f);h.addColorStop(0,b),h.addColorStop(1,c),g.fillStyle=h,g.fillRect(0,0,e,f),g.globalCompositeOperation="destination-in",g.drawImage(a,0,0),this.component.triggerMeasure()},c}(a.CanvasLayer);a.CityLayer=b}(b=a.stars||(a.stars={}))}(dt||(dt={}));var dt;!function(a){var b;!function(a){var b=function(b){function e(c){var e=this;b.call(this,c),this.stars=[],this.actors=[],this.density=2,a.CanvasLayer.loadImage(c.spriteSrc,function(a){e.setSprite(a,c.spriteSize)});var f=0;setInterval(function(){Math.random()<f?(e.actors.push(new d(e)),f=0):f+=.01},1e3)}return __extends(e,b),e.prototype.update=function(a){if(this.sprites){var b=this.context,c=this.sprites,d=this.width,e=this.height;b.setTransform(1,0,0,1,0,0),b.clearRect(0,0,d,e);for(var f=0,g=this.stars;f<g.length;f++){var h=g[f];h.update(b,a,c,d,e)}for(var i=0,j=this.actors.length;j>i;)this.actors[i].update(b,a,d,e)?i+=1:(this.actors.splice(i,1),j-=1)}},e.prototype.setSprite=function(a,b){var c=a.height/b;this.sprites=new Array(c);for(var d=0;c>d;d++){var e=this.sprites[d]=document.createElement("canvas");e.width=e.height=b,e.getContext("2d").drawImage(a,0,-d*b)}},e.prototype.measure=function(a){a.height*=.7;for(var d=Math.round(a.width*a.height/2e3*this.density);this.stars.length<d;)this.stars.push(new c({parent:this}));for(;this.stars.length>d;)this.stars.pop();return b.prototype.measure.call(this,a)},e}(a.CanvasLayer);a.FXLayer=b;var c=function(){function a(a){this.x=0,this.y=0,this.sprite=0,this.randomize(),this.parent=a.parent,this.age+=(Math.abs(this.age)+this.lifetime)*Math.random()}return a.prototype.update=function(a,b,c,d,e){var f=this.age+=b;if(f>this.lifetime)this.randomize();else if(f>0){var g=f/this.lifetime,h=.5+.25*(Math.sin(f/this.frequency)+1);.25>g?h*=4*g:g>.75&&(h*=4*(1-g)),a.globalAlpha=h,a.drawImage(c[this.sprite],Math.floor(this.x*d),Math.floor(this.y*e))}},a.prototype.randomize=function(){this.x=Math.random(),this.y=Math.random(),this.sprite=Math.min(9,Math.floor(10*Math.random())),this.age=-(1e3+2e3*Math.random()),this.frequency=150+300*Math.random(),this.lifetime=2e3+4e3*Math.random()},a}();a.FXStar=c;var d=function(){function a(b){this.age=0,this.lifetime=1e3+1e3*Math.random(),this.x=Math.random()*b.width,this.y=Math.random()*-b.height;var c=(.1+.2*Math.random())*Math.PI,d=700+200*Math.random();if(this.velocityX=Math.cos(c)*d,this.velocityY=Math.sin(c)*d,!a.SPRITE){var e=document.createElement("img");e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAALCAQAAACXQxZfAAAArUlEQVR4AdWSRRaDAAxEcXeXfXuCyq5+tJ57OnV3z8dh+MkD4YMF8e0CSAvEe1QQNzl5AfOXFQo0qJAhXmlFJgpU6HsYRL+YXyhSdJFA2+8GVBMDJizYcBAiWOETb7Hlnri8b1DD/DmJgQGmaGOCIY/6Z2iiRoOUSBckiFESqqlx2IoG+bxERUJFdGISdW+SYAP7v28SkX6+jDz/TaQr8cf+ro2Y2yt53ibCf9cMKX/RB0+qYx0AAAAASUVORK5CYII=";var f=a.SPRITE=document.createElement("canvas");f.width=e.naturalWidth,f.height=e.naturalHeight,f.getContext("2d").drawImage(e,0,0)}}return a.prototype.update=function(b,c,d,e){this.age+=c;var f=this.age/this.lifetime,g=c/1e3;this.velocityX-=.95*this.velocityX*g*f,this.velocityY+=100*g*f;var h=this.x+this.velocityX*g,i=this.y+this.velocityY*g;return b.globalAlpha=.5*(1-Math.cos(f*Math.PI*2)),b.setTransform(1,0,0,1,h,i),b.rotate(Math.atan2(this.y-i,this.x-h)),b.drawImage(a.SPRITE,5,5),this.age>this.lifetime?!1:(this.x=h,this.y=i,!0)},a}();a.FXFallingStar=d}(b=a.stars||(a.stars={}))}(dt||(dt={}));var dt;!function(a){var b;!function(a){var b=function(b){function c(c){var d=this;b.call(this,c),this.positions=[],this.count=0,this.offset=c.spriteSize*-.5,this.isDust=!!c.isDust,this.density=c.density?c.density:1,a.CanvasLayer.loadImage(c.spriteSrc,function(a){d.setSprite(a,c.spriteSize)})}return __extends(c,b),c.prototype.draw=function(){if(this.sprites){var a=this.context,b=this.count,c=this.width,d=this.height,e=this.positions,f=this.sprites,g=this.offset,h=this.isDust,i=h?5:3;a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,c,d);for(var j=0;b>j;j++){var k=j*i,l=f[e[k]],m=Math.round(c*e[k+1]),n=Math.round(d*e[k+2]);if(a.setTransform(1,0,0,1,m,n),h){var o=e[k+3];a.scale(o,o),a.rotate(e[k+4])}a.drawImage(l,g,g)}}},c.prototype.setSprite=function(a,b){var d=a.height/b;this.sprites=new Array(d);for(var e=0;d>e;e++){var f=this.sprites[e]=document.createElement("canvas");f.width=f.height=b;var g=f.getContext("2d");if(this.isDust){var h=g.createLinearGradient(0,0,b,b);h.addColorStop(.25,c.GRADIENTS[2*e]),h.addColorStop(.75,c.GRADIENTS[2*e+1]),g.fillStyle=h,g.fillRect(0,0,b,b),g.globalAlpha=.05,g.globalCompositeOperation="destination-in",g.drawImage(a,0,-e*b)}else g.drawImage(a,0,-e*b)}this.precalculate(),this.draw()},c.prototype.measure=function(a){return this.precalculate(a.width,a.height),b.prototype.measure.call(this,a)},c.prototype.precalculate=function(a,b){if(void 0===a&&(a=this.width),void 0===b&&(b=this.height),this.sprites){this.count=Math.round(a*b/2e3*this.density);var c=this.positions,d=this.isDust,e=this.sprites.length,f=d?5:3,g=f*this.count,h=c.length;for(c.length=g;g>h;){var i=Math.floor(e*Math.random());i>=e&&(i=e-1),c[h]=i,c[h+1]=Math.random(),c[h+2]=Math.random(),d&&(c[h+3]=1+2*Math.random(),c[h+4]=Math.random()*Math.PI*2),h+=f}}},c.GRADIENTS=["#ffffff","#5e90e3","#9281df","#4a0bb3","#81b4df","#057c6d"],c}(a.CanvasLayer);a.StarLayer=b}(b=a.stars||(a.stars={}))}(dt||(dt={})),function(a){a.requestAnimationFrame=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}()}(window);var dt;!function(a){function b(b,c){return a.transitionStyle?(a.addClass(b,"no-transition"),c(),b.getBoundingClientRect(),void a.removeClass(b,"no-transition")):c()}function c(c,d,e){if(!a.transitionStyle)return d(),void(e&&e());var f,g=c.offsetHeight,h=0;if(b(c,function(){c.style.height=null,d(),h=c.offsetHeight,g!=h&&(c.style.height=g+"px",f=!0)}),f){var i=function(){a.removeEventListener(c,a.transitionEndEvent,i),b(c,function(){return c.style.height=null}),e&&e()};a.addEventListener(c,a.transitionEndEvent,i),c.style.height=h+"px"}}a.noTransition=b,a.transitionHeight=c}(dt||(dt={}));var dt;!function(a){function b(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent("on"+b,c)}function c(a,b,c){a.removeEventListener?a.removeEventListener(b,c):a.detachEvent("on"+b,c)}function d(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," ")}function e(a,b){a.classList?a.classList.add(b):f(a,b)||(a.className+=" "+b)}function f(a,b){return a.classList?a.classList.contains(b):new RegExp("(^| )"+b+"( |$)","gi").test(a.className)}function g(a,b,c){void 0===c&&(c=!f(a,b)),c?e(a,b):d(a,b)}function h(a){a&&a.preventDefault?a.preventDefault():window.event&&"returnValue"in window.event&&(window.event.returnValue=!1)}function i(){return j?window.pageYOffset:k?document.documentElement.scrollTop:document.body.scrollTop;
}a.addEventListener=b,a.removeEventListener=c,a.removeClass=d,a.addClass=e,a.hasClass=f,a.toggleClass=g,a.preventDefault=h;var j=void 0!==window.pageXOffset,k="CSS1Compat"===(document.compatMode||"");a.scrollTop=i}(dt||(dt={}));var dt;!function(a){a.ieVersion=function(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");if(b>0)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);var c=a.indexOf("Trident/");if(c>0){var d=a.indexOf("rv:");return parseInt(a.substring(d+3,a.indexOf(".",d)),10)}var e=a.indexOf("Edge/");return e>0?parseInt(a.substring(e+5,a.indexOf(".",e)),10):!1}(),a.toggleClass(document.documentElement,"is-ie",!!a.ieVersion)}(dt||(dt={}));var dt;!function(a){function b(a){return a.split("/").join("/<wbr>")}a.wbrize=b}(dt||(dt={}));var dt;!function(a){function b(a){if(f)return a(f);f=document.createElement("div"),document.body.insertBefore(f,null);var b=a(f);return document.body.removeChild(f),f=void 0,b}function c(a){return b(function(b){if(a in b.style)return a;a=a.substr(0,1).toUpperCase()+a.substr(1);for(var c=0;c<g.length;c++){var d=g[c],e=d+a;if(e in b.style)return e}return null})}function d(a,b,c){return a in c?c[a]:b}function e(a,c){return b(function(b){try{return a in b.style?(b.style[a]=c,b.style[a]==c):!1}catch(d){return!1}})}a.transformStyle,a.transitionStyle,a.transitionEndEvent,a.hasPositionSticky;var f,g=["MS","Webkit","Moz","O"];a.withDummyElement=b,a.getPrefixedStyle=c,a.getPrefixedEvent=d,a.isValueSupported=e,b(function(){a.hasPositionSticky=e("position","sticky")||e("position","-webkit-sticky"),a.transformStyle=c("transform"),a.transitionStyle=c("transition"),a.transitionEndEvent=d(a.transitionStyle,"transitionend",{OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"})})}(dt||(dt={}));var dt;!function(a){var b=function(){function b(){console&&console.log&&console.log("\n\nShow your stuff at https://github.com/DefinitelyTyped/definitelytyped.github.io\n\n"),_(document.querySelectorAll(".dt-header")).each(function(b){new a.navigation.Component({el:b})}),_(document.querySelectorAll(".dt-menu")).each(function(b){new a.menu.Component({el:b})}),_(document.querySelectorAll(".dt-repository-search")).each(function(b){new a.repository.Component({el:b})}),_(document.querySelectorAll(".dt-header-stars")).each(function(b){new a.stars.Component({el:b})})}return b}();a.Application=b,a.app=new b}(dt||(dt={}));